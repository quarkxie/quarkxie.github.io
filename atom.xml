<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
 
 <title>jfisher-usgs</title>
 <link href="http://jfisher-usgs.github.com/atom.xml" rel="self"/>
 <link href="http://jfisher-usgs.github.com"/>
 <updated>2014-06-26T23:52:55+08:00</updated>
 <id>http://jfisher-usgs.github.com</id>
 <author>
   <name>Jason C Fisher</name>
   <email>jfisher@usgs.gov</email>
 </author>

 
 <entry>
   <title>Blog with Knitr and Jekyll</title>
   <link href="http://jfisher-usgs.github.com/r/2012/07/03/knitr-jekyll"/>
   <updated>2012-07-03T00:00:00+08:00</updated>
   <id>http://jfisher-usgs.github.com/r/2012/07/03/knitr-jekyll</id>
   <content type="html">&lt;p&gt;The &lt;a href='http://yihui.name/knitr/'&gt;knitr&lt;/a&gt; package provides an easy way to embed &lt;a href='http://www.r-project.org/'&gt;R&lt;/a&gt; code in a &lt;a href='http://jekyllbootstrap.com/'&gt;Jekyll-Bootstrap&lt;/a&gt; blog post. The only required input is an &lt;strong&gt;R Markdown&lt;/strong&gt; source file. The name of the source file used to generate this post is &lt;em&gt;2012-07-03-knitr-jekyll.Rmd&lt;/em&gt;, available &lt;a href='https://github.com/jfisher-usgs/jfisher-usgs.github.com/blob/master/Rmd/2012-07-03-knitr-jekyll.Rmd'&gt;here&lt;/a&gt;. Steps taken to build this post are as follows:&lt;/p&gt;

&lt;h3 id='step_1'&gt;Step 1&lt;/h3&gt;

&lt;p&gt;Create a Jekyll-Boostrap blog if you don&amp;#8217;t already have one. A brief tutorial on building this blog is available &lt;a href='/lessons/2012/05/30/jekyll-build-on-windows/'&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;h3 id='step_2'&gt;Step 2&lt;/h3&gt;

&lt;p&gt;Open the R Console and process the source file:&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='r'&gt;KnitPost &lt;span class='o'&gt;&amp;lt;-&lt;/span&gt; &lt;span class='kr'&gt;function&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;input&lt;span class='p'&gt;,&lt;/span&gt; base.url &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='s'&gt;&amp;quot;/&amp;quot;&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;
    require&lt;span class='p'&gt;(&lt;/span&gt;knitr&lt;span class='p'&gt;)&lt;/span&gt;
    opts_knit&lt;span class='o'&gt;$&lt;/span&gt;set&lt;span class='p'&gt;(&lt;/span&gt;base.url &lt;span class='o'&gt;=&lt;/span&gt; base.url&lt;span class='p'&gt;)&lt;/span&gt;
    fig.path &lt;span class='o'&gt;&amp;lt;-&lt;/span&gt; paste0&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s'&gt;&amp;quot;figs/&amp;quot;&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; sub&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s'&gt;&amp;quot;.Rmd$&amp;quot;&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='s'&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; basename&lt;span class='p'&gt;(&lt;/span&gt;input&lt;span class='p'&gt;)),&lt;/span&gt; &lt;span class='s'&gt;&amp;quot;/&amp;quot;&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;
    opts_chunk&lt;span class='o'&gt;$&lt;/span&gt;set&lt;span class='p'&gt;(&lt;/span&gt;fig.path &lt;span class='o'&gt;=&lt;/span&gt; fig.path&lt;span class='p'&gt;)&lt;/span&gt;
    opts_chunk&lt;span class='o'&gt;$&lt;/span&gt;set&lt;span class='p'&gt;(&lt;/span&gt;fig.cap &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='s'&gt;&amp;quot;center&amp;quot;&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;
    render_jekyll&lt;span class='p'&gt;()&lt;/span&gt;
    knit&lt;span class='p'&gt;(&lt;/span&gt;input&lt;span class='p'&gt;,&lt;/span&gt; envir &lt;span class='o'&gt;=&lt;/span&gt; parent.frame&lt;span class='p'&gt;())&lt;/span&gt;
&lt;span class='p'&gt;}&lt;/span&gt;
KnitPost&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s'&gt;&amp;quot;2012-07-03-knitr-jekyll.Rmd&amp;quot;&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;h3 id='step_3'&gt;Step 3&lt;/h3&gt;

&lt;p&gt;Move the resulting image folder &lt;em&gt;2012-07-03-knitr-jekyll&lt;/em&gt; and &lt;strong&gt;Markdown&lt;/strong&gt; file &lt;em&gt;2012-07-03-knitr-jekyll.md&lt;/em&gt; to the local &lt;em&gt;jfisher-usgs.github.com&lt;/em&gt; &lt;a href='http://git-scm.com/'&gt;git&lt;/a&gt; repository. The KnitPost function assumes that the image folder will be placed in a &lt;a href='https://github.com/jfisher-usgs/jfisher-usgs.github.com/tree/master/figs'&gt;figs&lt;/a&gt; folder located at the root of the repository.&lt;/p&gt;

&lt;h3 id='step_4'&gt;Step 4&lt;/h3&gt;

&lt;p&gt;Add the following CSS code to the &lt;em&gt;/assets/themes/twitter-2.0/css/bootstrap.min.css&lt;/em&gt; file to center images:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;[alt=center] {
  display: block;
  margin: auto;
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;That&amp;#8217;s it.&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;Here are a few examples of embedding R code:&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='r'&gt;summary&lt;span class='p'&gt;(&lt;/span&gt;cars&lt;span class='p'&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='text'&gt;##      speed           dist    
##  Min.   : 4.0   Min.   :  2  
##  1st Qu.:12.0   1st Qu.: 26  
##  Median :15.0   Median : 36  
##  Mean   :15.4   Mean   : 43  
##  3rd Qu.:19.0   3rd Qu.: 56  
##  Max.   :25.0   Max.   :120  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='r'&gt;par&lt;span class='p'&gt;(&lt;/span&gt;mar &lt;span class='o'&gt;=&lt;/span&gt; c&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='m'&gt;4&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='m'&gt;4&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='m'&gt;0.1&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='m'&gt;0.1&lt;/span&gt;&lt;span class='p'&gt;),&lt;/span&gt; omi &lt;span class='o'&gt;=&lt;/span&gt; c&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='m'&gt;0&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='m'&gt;0&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='m'&gt;0&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='m'&gt;0&lt;/span&gt;&lt;span class='p'&gt;))&lt;/span&gt;
plot&lt;span class='p'&gt;(&lt;/span&gt;cars&lt;span class='p'&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;&lt;img alt='center' src='/figs/2012-07-03-knitr-jekyll/fig1.png' /&gt;&lt;/p&gt;

&lt;h5 id='figure_1_caption'&gt;Figure 1: Caption&lt;/h5&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='r'&gt;par&lt;span class='p'&gt;(&lt;/span&gt;mar &lt;span class='o'&gt;=&lt;/span&gt; c&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='m'&gt;2.5&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='m'&gt;2.5&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='m'&gt;0.5&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='m'&gt;0.1&lt;/span&gt;&lt;span class='p'&gt;),&lt;/span&gt; omi &lt;span class='o'&gt;=&lt;/span&gt; c&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='m'&gt;0&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='m'&gt;0&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='m'&gt;0&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='m'&gt;0&lt;/span&gt;&lt;span class='p'&gt;))&lt;/span&gt;
filled.contour&lt;span class='p'&gt;(&lt;/span&gt;volcano&lt;span class='p'&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;&lt;img alt='center' src='/figs/2012-07-03-knitr-jekyll/fig2.png' /&gt;&lt;/p&gt;

&lt;h5 id='figure_2_caption'&gt;Figure 2: Caption&lt;/h5&gt;

&lt;p&gt;And don&amp;#8217;t forget your session information for proper reproducible research.&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='r'&gt;sessionInfo&lt;span class='p'&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='text'&gt;## R version 2.15.1 (2012-06-22)
## Platform: x86_64-pc-mingw32/x64 (64-bit)
## 
## locale:
## [1] LC_COLLATE=English_United States.1252 
## [2] LC_CTYPE=English_United States.1252   
## [3] LC_MONETARY=English_United States.1252
## [4] LC_NUMERIC=C                          
## [5] LC_TIME=English_United States.1252    
## 
## attached base packages:
## [1] stats     graphics  grDevices utils     datasets  methods   base     
## 
## other attached packages:
## [1] knitr_0.6.3
## 
## loaded via a namespace (and not attached):
## [1] digest_0.5.2   evaluate_0.4.2 formatR_0.5    plyr_1.7.1    
## [5] stringr_0.6    tools_2.15.1  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;</content>
 </entry>
 
 <entry>
   <title>Grid2Polygons</title>
   <link href="http://jfisher-usgs.github.com/r/2012/06/25/grid2polygons"/>
   <updated>2012-06-25T00:00:00+08:00</updated>
   <id>http://jfisher-usgs.github.com/r/2012/06/25/grid2polygons</id>
   <content type="html">&lt;p&gt;I&amp;#8217;d like to introduce you to the &lt;em&gt;Grid2Polygons&lt;/em&gt; function; an &lt;a href='http://www.r-project.org/'&gt;R&lt;/a&gt; function for converting &lt;strong&gt;sp&lt;/strong&gt; spatial objects from class &lt;em&gt;SpatialGridDataFrame&lt;/em&gt; to &lt;em&gt;SpatialPolygonsDataFrame&lt;/em&gt;. The significance of this conversion is that spatial polygons can be transformed to a different projection or datum with the &lt;em&gt;spTransform&lt;/em&gt; function in package &lt;strong&gt;rgdal&lt;/strong&gt;. Postscript files created with spatial polygons are reduced in size and result in a much &amp;#8220;cleaner&amp;#8221; version of your image. Disadvantages of the conversion include long computational times and irreversible leveling, partitioning the range of &lt;em&gt;z&lt;/em&gt; values. A general explanation of the algorithm is provided &lt;a href='http://stackoverflow.com/questions/643995/algorithm-to-merge-adjacent-rectangles-into-polygon}'&gt;here&lt;/a&gt;; inspiration provided &lt;a href='http://menugget.blogspot.com/2012/04/create-polygons-from-matrix.html'&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;To access the function install the &lt;a href='http://cran.r-project.org/web/packages/Grid2Polygons/index.html'&gt;Grid2Polygons&lt;/a&gt; package (&lt;a href='https://github.com/jfisher-usgs/Grid2Polygons'&gt;source&lt;/a&gt;):&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='r'&gt;install.packages&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s'&gt;&amp;quot;Grid2Polygons&amp;quot;&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;
library&lt;span class='p'&gt;(&lt;/span&gt;Grid2Polygons&lt;span class='p'&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;See help documentation for argument descriptions:&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='r'&gt;&lt;span class='o'&gt;?&lt;/span&gt;Grid2Polygons
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;The following examples highlight the functions usefulness:&lt;/p&gt;

&lt;h2 id='example_1'&gt;Example 1&lt;/h2&gt;

&lt;p&gt;Construct a simple spatial grid data frame.&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='r'&gt;m &lt;span class='o'&gt;&amp;lt;-&lt;/span&gt; &lt;span class='m'&gt;5&lt;/span&gt;
n &lt;span class='o'&gt;&amp;lt;-&lt;/span&gt; &lt;span class='m'&gt;6&lt;/span&gt;
z &lt;span class='o'&gt;&amp;lt;-&lt;/span&gt; c&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='m'&gt;1.1&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;  &lt;span class='m'&gt;1.5&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;  &lt;span class='m'&gt;4.2&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;  &lt;span class='m'&gt;4.1&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;  &lt;span class='m'&gt;4.3&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;  &lt;span class='m'&gt;4.7&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;
       &lt;span class='m'&gt;1.2&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;  &lt;span class='m'&gt;1.4&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;  &lt;span class='m'&gt;4.8&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;  &lt;span class='m'&gt;4.8&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;   &lt;span class='kc'&gt;NA&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;  &lt;span class='m'&gt;4.1&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;
       &lt;span class='m'&gt;1.7&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;  &lt;span class='m'&gt;4.2&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;  &lt;span class='m'&gt;1.4&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;  &lt;span class='m'&gt;4.8&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;  &lt;span class='m'&gt;4.0&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;  &lt;span class='m'&gt;4.4&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;
       &lt;span class='m'&gt;1.1&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;  &lt;span class='m'&gt;1.3&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;  &lt;span class='m'&gt;1.2&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;  &lt;span class='m'&gt;4.8&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;  &lt;span class='m'&gt;1.6&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;   &lt;span class='kc'&gt;NA&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;
       &lt;span class='m'&gt;3.3&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;  &lt;span class='m'&gt;2.9&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;   &lt;span class='kc'&gt;NA&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;  &lt;span class='m'&gt;4.1&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;  &lt;span class='m'&gt;1.0&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt;  &lt;span class='m'&gt;4.0&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;
x &lt;span class='o'&gt;&amp;lt;-&lt;/span&gt; rep&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='m'&gt;0&lt;/span&gt;&lt;span class='o'&gt;:&lt;/span&gt;&lt;span class='m'&gt;6&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; m &lt;span class='o'&gt;+&lt;/span&gt; &lt;span class='m'&gt;1&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;
y &lt;span class='o'&gt;&amp;lt;-&lt;/span&gt; rep&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='m'&gt;0&lt;/span&gt;&lt;span class='o'&gt;:&lt;/span&gt;&lt;span class='m'&gt;5&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; each &lt;span class='o'&gt;=&lt;/span&gt; n &lt;span class='o'&gt;+&lt;/span&gt; &lt;span class='m'&gt;1&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;
xc &lt;span class='o'&gt;&amp;lt;-&lt;/span&gt; c&lt;span class='p'&gt;(&lt;/span&gt;rep&lt;span class='p'&gt;(&lt;/span&gt;seq&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='m'&gt;0.5&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='m'&gt;5.5&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; by &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='m'&gt;1&lt;/span&gt;&lt;span class='p'&gt;),&lt;/span&gt; m&lt;span class='p'&gt;))&lt;/span&gt;
yc &lt;span class='o'&gt;&amp;lt;-&lt;/span&gt; rep&lt;span class='p'&gt;(&lt;/span&gt;rev&lt;span class='p'&gt;(&lt;/span&gt;seq&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='m'&gt;0.5&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='m'&gt;4.5&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; by &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='m'&gt;1&lt;/span&gt;&lt;span class='p'&gt;)),&lt;/span&gt; each &lt;span class='o'&gt;=&lt;/span&gt; n&lt;span class='p'&gt;)&lt;/span&gt;
grd &lt;span class='o'&gt;&amp;lt;-&lt;/span&gt; data.frame&lt;span class='p'&gt;(&lt;/span&gt;z &lt;span class='o'&gt;=&lt;/span&gt; z&lt;span class='p'&gt;,&lt;/span&gt; xc &lt;span class='o'&gt;=&lt;/span&gt; xc&lt;span class='p'&gt;,&lt;/span&gt; yc &lt;span class='o'&gt;=&lt;/span&gt; yc&lt;span class='p'&gt;)&lt;/span&gt;
coordinates&lt;span class='p'&gt;(&lt;/span&gt;grd&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='o'&gt;&amp;lt;-&lt;/span&gt; &lt;span class='o'&gt;~&lt;/span&gt; xc &lt;span class='o'&gt;+&lt;/span&gt; yc
gridded&lt;span class='p'&gt;(&lt;/span&gt;grd&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='o'&gt;&amp;lt;-&lt;/span&gt; &lt;span class='kc'&gt;TRUE&lt;/span&gt;
grd &lt;span class='o'&gt;&amp;lt;-&lt;/span&gt; as&lt;span class='p'&gt;(&lt;/span&gt;grd&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='s'&gt;&amp;quot;SpatialGridDataFrame&amp;quot;&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Plot the grid using a gray scale to indicate values of &lt;em&gt;z&lt;/em&gt; (&lt;strong&gt;fig. 1&lt;/strong&gt;).&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='r'&gt;image&lt;span class='p'&gt;(&lt;/span&gt;grd&lt;span class='p'&gt;,&lt;/span&gt; col &lt;span class='o'&gt;=&lt;/span&gt; gray.colors&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='m'&gt;30&lt;/span&gt;&lt;span class='p'&gt;),&lt;/span&gt; axes &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='kc'&gt;TRUE&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;
grid&lt;span class='p'&gt;(&lt;/span&gt;col &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='s'&gt;&amp;quot;black&amp;quot;&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; lty &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='m'&gt;1&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;
points&lt;span class='p'&gt;(&lt;/span&gt;x &lt;span class='o'&gt;=&lt;/span&gt; x&lt;span class='p'&gt;,&lt;/span&gt; y &lt;span class='o'&gt;=&lt;/span&gt; y&lt;span class='p'&gt;,&lt;/span&gt; pch &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='m'&gt;16&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;
text&lt;span class='p'&gt;(&lt;/span&gt;cbind&lt;span class='p'&gt;(&lt;/span&gt;xc&lt;span class='p'&gt;,&lt;/span&gt; yc&lt;span class='p'&gt;),&lt;/span&gt; labels &lt;span class='o'&gt;=&lt;/span&gt; z&lt;span class='p'&gt;)&lt;/span&gt;
text&lt;span class='p'&gt;(&lt;/span&gt;cbind&lt;span class='p'&gt;(&lt;/span&gt;x &lt;span class='o'&gt;=&lt;/span&gt; x &lt;span class='o'&gt;+&lt;/span&gt; &lt;span class='m'&gt;0.1&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; y &lt;span class='o'&gt;=&lt;/span&gt; rev&lt;span class='p'&gt;(&lt;/span&gt;y &lt;span class='o'&gt;+&lt;/span&gt; &lt;span class='m'&gt;0.1&lt;/span&gt;&lt;span class='p'&gt;)),&lt;/span&gt; labels &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='m'&gt;1&lt;/span&gt;&lt;span class='o'&gt;:&lt;/span&gt;&lt;span class='m'&gt;42&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; cex &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='m'&gt;0.6&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;&lt;img alt='center' src='/figs/2012-06-25-grid2polygons/fig1.png' /&gt;&lt;/p&gt;

&lt;h5 id='figure_1_simple_spatial_grid_data_frame'&gt;Figure 1: Simple spatial grid data frame.&lt;/h5&gt;

&lt;p&gt;Convert the grid to spatial polygons and overlay in plot (&lt;strong&gt;fig. 2&lt;/strong&gt;). Leveling is specified with cut locations at 1, 2, 3, 4, and 5, and &lt;em&gt;z&lt;/em&gt;-values set equal to the midpoint between breakpoints. A &amp;#8220;winding rule&amp;#8221; is used to determine if a polygon ring is filled (island) or is a hole in another polygon.&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='r'&gt;plys &lt;span class='o'&gt;&amp;lt;-&lt;/span&gt; Grid2Polygons&lt;span class='p'&gt;(&lt;/span&gt;grd&lt;span class='p'&gt;,&lt;/span&gt; level &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='kc'&gt;TRUE&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; at &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='m'&gt;1&lt;/span&gt;&lt;span class='o'&gt;:&lt;/span&gt;&lt;span class='m'&gt;5&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;
cols &lt;span class='o'&gt;&amp;lt;-&lt;/span&gt; rainbow&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='m'&gt;4&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; alpha &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='m'&gt;0.3&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;
plot&lt;span class='p'&gt;(&lt;/span&gt;plys&lt;span class='p'&gt;,&lt;/span&gt; col &lt;span class='o'&gt;=&lt;/span&gt; cols&lt;span class='p'&gt;,&lt;/span&gt; add &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='kc'&gt;TRUE&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;
x &lt;span class='o'&gt;&amp;lt;-&lt;/span&gt; rep&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='m'&gt;0&lt;/span&gt;&lt;span class='o'&gt;:&lt;/span&gt;&lt;span class='m'&gt;6&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; m &lt;span class='o'&gt;+&lt;/span&gt; &lt;span class='m'&gt;1&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;
y &lt;span class='o'&gt;&amp;lt;-&lt;/span&gt; rep&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='m'&gt;0&lt;/span&gt;&lt;span class='o'&gt;:&lt;/span&gt;&lt;span class='m'&gt;5&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; each &lt;span class='o'&gt;=&lt;/span&gt; n &lt;span class='o'&gt;+&lt;/span&gt; &lt;span class='m'&gt;1&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;
legend&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s'&gt;&amp;quot;top&amp;quot;&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; legend &lt;span class='o'&gt;=&lt;/span&gt; plys&lt;span class='p'&gt;[[&lt;/span&gt;&lt;span class='m'&gt;1&lt;/span&gt;&lt;span class='p'&gt;]],&lt;/span&gt; fill &lt;span class='o'&gt;=&lt;/span&gt; cols&lt;span class='p'&gt;,&lt;/span&gt; bty &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='s'&gt;&amp;quot;n&amp;quot;&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; xpd &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='kc'&gt;TRUE&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; inset &lt;span class='o'&gt;=&lt;/span&gt; c&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='m'&gt;0&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='m'&gt;-0.1&lt;/span&gt;&lt;span class='p'&gt;),&lt;/span&gt; ncol &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='m'&gt;4&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;&lt;img alt='center' src='/figs/2012-06-25-grid2polygons/fig2.png' /&gt;&lt;/p&gt;

&lt;h5 id='figure_2_simple_gridded_data_represented_with_spatial_polygons'&gt;Figure 2: Simple gridded data represented with spatial polygons.&lt;/h5&gt;

&lt;h2 id='example_2'&gt;Example 2&lt;/h2&gt;

&lt;p&gt;Apply the conversion function to the &lt;em&gt;meuse&lt;/em&gt; data set, included in the &lt;strong&gt;sp&lt;/strong&gt; package. The effect of leveling is shown in &lt;strong&gt;figure 3&lt;/strong&gt;.&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='r'&gt;data&lt;span class='p'&gt;(&lt;/span&gt;meuse.grid&lt;span class='p'&gt;)&lt;/span&gt;
coordinates&lt;span class='p'&gt;(&lt;/span&gt;meuse.grid&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='o'&gt;&amp;lt;-&lt;/span&gt; &lt;span class='o'&gt;~&lt;/span&gt; x &lt;span class='o'&gt;+&lt;/span&gt; y
gridded&lt;span class='p'&gt;(&lt;/span&gt;meuse.grid&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='o'&gt;&amp;lt;-&lt;/span&gt; &lt;span class='kc'&gt;TRUE&lt;/span&gt;
meuse.grid &lt;span class='o'&gt;&amp;lt;-&lt;/span&gt; as&lt;span class='p'&gt;(&lt;/span&gt;meuse.grid&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='s'&gt;&amp;quot;SpatialGridDataFrame&amp;quot;&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;
meuse.plys &lt;span class='o'&gt;&amp;lt;-&lt;/span&gt; Grid2Polygons&lt;span class='p'&gt;(&lt;/span&gt;meuse.grid&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='s'&gt;&amp;quot;dist&amp;quot;&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; level &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='kc'&gt;FALSE&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;
op &lt;span class='o'&gt;&amp;lt;-&lt;/span&gt; par&lt;span class='p'&gt;(&lt;/span&gt;mfrow &lt;span class='o'&gt;=&lt;/span&gt; c&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='m'&gt;1&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='m'&gt;2&lt;/span&gt;&lt;span class='p'&gt;),&lt;/span&gt; oma &lt;span class='o'&gt;=&lt;/span&gt; c&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='m'&gt;0&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='m'&gt;0&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='m'&gt;0&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='m'&gt;0&lt;/span&gt;&lt;span class='p'&gt;),&lt;/span&gt; mar &lt;span class='o'&gt;=&lt;/span&gt; c&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='m'&gt;0&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='m'&gt;0&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='m'&gt;0&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='m'&gt;0&lt;/span&gt;&lt;span class='p'&gt;))&lt;/span&gt;
z &lt;span class='o'&gt;&amp;lt;-&lt;/span&gt; meuse.plys&lt;span class='p'&gt;[[&lt;/span&gt;&lt;span class='m'&gt;1&lt;/span&gt;&lt;span class='p'&gt;]]&lt;/span&gt;
col.idxs &lt;span class='o'&gt;&amp;lt;-&lt;/span&gt; findInterval&lt;span class='p'&gt;(&lt;/span&gt;z&lt;span class='p'&gt;,&lt;/span&gt; sort&lt;span class='p'&gt;(&lt;/span&gt;unique&lt;span class='p'&gt;(&lt;/span&gt;na.omit&lt;span class='p'&gt;(&lt;/span&gt;z&lt;span class='p'&gt;))))&lt;/span&gt;
cols &lt;span class='o'&gt;&amp;lt;-&lt;/span&gt; heat.colors&lt;span class='p'&gt;(&lt;/span&gt;max&lt;span class='p'&gt;(&lt;/span&gt;col.idxs&lt;span class='p'&gt;))[&lt;/span&gt;col.idxs&lt;span class='p'&gt;]&lt;/span&gt;
plot&lt;span class='p'&gt;(&lt;/span&gt;meuse.plys&lt;span class='p'&gt;,&lt;/span&gt; col &lt;span class='o'&gt;=&lt;/span&gt; cols&lt;span class='p'&gt;)&lt;/span&gt;
title&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s'&gt;&amp;quot;level = FALSE&amp;quot;&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; line &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='m'&gt;-7&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;
meuse.plys.lev &lt;span class='o'&gt;&amp;lt;-&lt;/span&gt; Grid2Polygons&lt;span class='p'&gt;(&lt;/span&gt;meuse.grid&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='s'&gt;&amp;quot;dist&amp;quot;&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; level &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='kc'&gt;TRUE&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;
z &lt;span class='o'&gt;&amp;lt;-&lt;/span&gt; meuse.plys.lev&lt;span class='p'&gt;[[&lt;/span&gt;&lt;span class='m'&gt;1&lt;/span&gt;&lt;span class='p'&gt;]]&lt;/span&gt;
col.idxs &lt;span class='o'&gt;&amp;lt;-&lt;/span&gt; findInterval&lt;span class='p'&gt;(&lt;/span&gt;z&lt;span class='p'&gt;,&lt;/span&gt; sort&lt;span class='p'&gt;(&lt;/span&gt;unique&lt;span class='p'&gt;(&lt;/span&gt;na.omit&lt;span class='p'&gt;(&lt;/span&gt;z&lt;span class='p'&gt;))))&lt;/span&gt;
cols &lt;span class='o'&gt;&amp;lt;-&lt;/span&gt; heat.colors&lt;span class='p'&gt;(&lt;/span&gt;max&lt;span class='p'&gt;(&lt;/span&gt;col.idxs&lt;span class='p'&gt;))[&lt;/span&gt;col.idxs&lt;span class='p'&gt;]&lt;/span&gt;
plot&lt;span class='p'&gt;(&lt;/span&gt;meuse.plys.lev&lt;span class='p'&gt;,&lt;/span&gt; col &lt;span class='o'&gt;=&lt;/span&gt; cols&lt;span class='p'&gt;)&lt;/span&gt;
title&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s'&gt;&amp;quot;level = TRUE&amp;quot;&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; line &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='m'&gt;-7&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;
par&lt;span class='p'&gt;(&lt;/span&gt;op&lt;span class='p'&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;&lt;img alt='center' src='/figs/2012-06-25-grid2polygons/fig3.png' /&gt;&lt;/p&gt;

&lt;h5 id='figure_3_distance_from_river_represented_with_spatial_polygons'&gt;Figure 3: Distance from river represented with spatial polygons.&lt;/h5&gt;

&lt;h2 id='example_3'&gt;Example 3&lt;/h2&gt;

&lt;p&gt;A real-world example using topographic information on the eastern Snake River Plain; raster plot shown in &lt;strong&gt;figure 4&lt;/strong&gt;.&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='r'&gt;library&lt;span class='p'&gt;(&lt;/span&gt;rgdal&lt;span class='p'&gt;)&lt;/span&gt;
data&lt;span class='p'&gt;(&lt;/span&gt;DEM&lt;span class='p'&gt;)&lt;/span&gt;
at &lt;span class='o'&gt;&amp;lt;-&lt;/span&gt; seq&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='m'&gt;500&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='m'&gt;4000&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; by &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='m'&gt;250&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;
op &lt;span class='o'&gt;&amp;lt;-&lt;/span&gt; par&lt;span class='p'&gt;(&lt;/span&gt;oma &lt;span class='o'&gt;=&lt;/span&gt; c&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='m'&gt;0&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='m'&gt;0&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='m'&gt;0&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='m'&gt;0&lt;/span&gt;&lt;span class='p'&gt;),&lt;/span&gt; mar &lt;span class='o'&gt;=&lt;/span&gt; c&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='m'&gt;0&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='m'&gt;0&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='m'&gt;0&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='m'&gt;0&lt;/span&gt;&lt;span class='p'&gt;))&lt;/span&gt;
image&lt;span class='p'&gt;(&lt;/span&gt;DEM&lt;span class='p'&gt;,&lt;/span&gt; breaks &lt;span class='o'&gt;=&lt;/span&gt; at&lt;span class='p'&gt;,&lt;/span&gt; col &lt;span class='o'&gt;=&lt;/span&gt; terrain.colors&lt;span class='p'&gt;(&lt;/span&gt;length&lt;span class='p'&gt;(&lt;/span&gt;at&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='o'&gt;-&lt;/span&gt; &lt;span class='m'&gt;1&lt;/span&gt;&lt;span class='p'&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;&lt;img alt='center' src='/figs/2012-06-25-grid2polygons/fig4.png' /&gt;&lt;/p&gt;

&lt;h5 id='figure_4_topographic_information_represented_with_a_raster_image'&gt;Figure 4: Topographic information represented with a raster image.&lt;/h5&gt;

&lt;p&gt;Convert the grid to spatial polygons (&lt;strong&gt;fig. 5&lt;/strong&gt;). The conversion took 22.7 seconds on my machine. The size of the postscript file created from the polygon image (1.89 MB) is 82.6 percent smaller than the size of the raster image file (10.86 MB).&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='r'&gt;dem.plys &lt;span class='o'&gt;&amp;lt;-&lt;/span&gt; Grid2Polygons&lt;span class='p'&gt;(&lt;/span&gt;DEM&lt;span class='p'&gt;,&lt;/span&gt; level &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='kc'&gt;TRUE&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; at &lt;span class='o'&gt;=&lt;/span&gt; at&lt;span class='p'&gt;)&lt;/span&gt;
z &lt;span class='o'&gt;&amp;lt;-&lt;/span&gt; dem.plys&lt;span class='p'&gt;[[&lt;/span&gt;&lt;span class='m'&gt;1&lt;/span&gt;&lt;span class='p'&gt;]]&lt;/span&gt;
col.idxs &lt;span class='o'&gt;&amp;lt;-&lt;/span&gt; findInterval&lt;span class='p'&gt;(&lt;/span&gt;z&lt;span class='p'&gt;,&lt;/span&gt; at&lt;span class='p'&gt;)&lt;/span&gt;
cols &lt;span class='o'&gt;&amp;lt;-&lt;/span&gt; terrain.colors&lt;span class='p'&gt;(&lt;/span&gt;length&lt;span class='p'&gt;(&lt;/span&gt;at&lt;span class='p'&gt;)&lt;/span&gt; &lt;span class='o'&gt;-&lt;/span&gt; &lt;span class='m'&gt;1&lt;/span&gt;&lt;span class='p'&gt;)[&lt;/span&gt;col.idxs&lt;span class='p'&gt;]&lt;/span&gt;
plot&lt;span class='p'&gt;(&lt;/span&gt;dem.plys&lt;span class='p'&gt;,&lt;/span&gt; border &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='s'&gt;&amp;quot;transparent&amp;quot;&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; col &lt;span class='o'&gt;=&lt;/span&gt; cols&lt;span class='p'&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;&lt;img alt='center' src='/figs/2012-06-25-grid2polygons/fig5.png' /&gt;&lt;/p&gt;

&lt;h5 id='figure_5_topographic_information_represented_with_spatial_polygons'&gt;Figure 5: Topographic information represented with spatial polygons.&lt;/h5&gt;

&lt;p&gt;Finally, transform the projection of the spatial polygons object (1.5 seconds) and replot (&lt;strong&gt;fig. 6&lt;/strong&gt;).&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='r'&gt;dem.plys.trans &lt;span class='o'&gt;&amp;lt;-&lt;/span&gt; rgdal&lt;span class='o'&gt;::&lt;/span&gt;spTransform&lt;span class='p'&gt;(&lt;/span&gt;dem.plys&lt;span class='p'&gt;,&lt;/span&gt; CRS &lt;span class='o'&gt;=&lt;/span&gt; CRS&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s'&gt;&amp;quot;+proj=eqc&amp;quot;&lt;/span&gt;&lt;span class='p'&gt;))&lt;/span&gt;
plot&lt;span class='p'&gt;(&lt;/span&gt;dem.plys.trans&lt;span class='p'&gt;,&lt;/span&gt; border &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='s'&gt;&amp;quot;transparent&amp;quot;&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; col &lt;span class='o'&gt;=&lt;/span&gt; cols&lt;span class='p'&gt;)&lt;/span&gt;
par&lt;span class='p'&gt;(&lt;/span&gt;op&lt;span class='p'&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;&lt;img alt='center' src='/figs/2012-06-25-grid2polygons/fig6.png' /&gt;&lt;/p&gt;

&lt;h5 id='figure_6_topographic_information_represented_with_spatial_polygons_and_new_projection'&gt;Figure 6: Topographic information represented with spatial polygons and new projection.&lt;/h5&gt;</content>
 </entry>
 
 <entry>
   <title>Color Tools</title>
   <link href="http://jfisher-usgs.github.com/r/2012/06/01/color-tools"/>
   <updated>2012-06-01T00:00:00+08:00</updated>
   <id>http://jfisher-usgs.github.com/r/2012/06/01/color-tools</id>
   <content type="html">&lt;p&gt;Colors are mysterious business and choosing the right color or color palette for an &lt;a href='http://www.r-project.org/'&gt;R&lt;/a&gt; graphics can sometimes be a chore. To alleviate this burden, I present two functions for choosing color values.&lt;/p&gt;

&lt;p&gt;To access these functions install the &lt;a href='http://cran.r-project.org/web/packages/RSurvey/'&gt;RSurvey&lt;/a&gt; and &lt;a href='http://cran.r-project.org/web/packages/dichromat/'&gt;dichromat&lt;/a&gt; packages:&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='r'&gt;install.packages&lt;span class='p'&gt;(&lt;/span&gt;c&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s'&gt;&amp;quot;RSurvey&amp;quot;&lt;/span&gt;&lt;span class='p'&gt;,&lt;/span&gt; &lt;span class='s'&gt;&amp;quot;dichromat&amp;quot;&lt;/span&gt;&lt;span class='p'&gt;))&lt;/span&gt;
library&lt;span class='p'&gt;(&lt;/span&gt;RSurvey&lt;span class='p'&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;h2 id='choose_color'&gt;Choose Color&lt;/h2&gt;

&lt;p&gt;The first function, &lt;em&gt;ChooseColor&lt;/em&gt; (&lt;a href='https://github.com/jfisher-usgs/RSurvey/blob/master/R/ChooseColor.R'&gt;source&lt;/a&gt;), calls upon a graphical user interface (GUI) for choosing a color in the &lt;a href='http://en.wikipedia.org/wiki/HSL_and_HSV'&gt;HSV&lt;/a&gt; color space (&lt;strong&gt;fig. 1&lt;/strong&gt;).&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='r'&gt;col &lt;span class='o'&gt;&amp;lt;-&lt;/span&gt; ChooseColor&lt;span class='p'&gt;(&lt;/span&gt;col &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='s'&gt;&amp;quot;#669933&amp;quot;&lt;/span&gt;&lt;span class='p'&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;&lt;img alt='center' src='/figs/2012-06-01-color-tools/fig1.png' /&gt;&lt;/p&gt;

&lt;h5 id='figure_1_a_screenshot_of_the_hsv_color_tool'&gt;Figure 1: A screenshot of the HSV color tool.&lt;/h5&gt;

&lt;h2 id='choose_color_palette'&gt;Choose Color Palette&lt;/h2&gt;

&lt;p&gt;The second function, &lt;em&gt;ChoosePalette&lt;/em&gt; (&lt;a href='https://github.com/jfisher-usgs/RSurvey/blob/master/R/ChoosePalette.R'&gt;source&lt;/a&gt;), calls upon a GUI for choosing a color palette in the HCL (Hue, Chroma, and Luminance) color space (&lt;strong&gt;fig. 2&lt;/strong&gt;).&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='r'&gt;pal &lt;span class='o'&gt;&amp;lt;-&lt;/span&gt; ChoosePalette&lt;span class='p'&gt;(&lt;/span&gt;terrain_hcl&lt;span class='p'&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;&lt;img alt='center' src='/figs/2012-06-01-color-tools/fig2.png' /&gt;&lt;/p&gt;

&lt;h5 id='figure_2_a_screenshot_of_the_hcl_color_palette_tool'&gt;Figure 2: A screenshot of the HCL color palette tool.&lt;/h5&gt;

&lt;p&gt;An example graphic accompanies the GUI and may be used to evaluate the robustness of individual color schemes (&lt;strong&gt;fig. 3&lt;/strong&gt;).&lt;/p&gt;

&lt;p&gt;&lt;img alt='center' src='/figs/2012-06-01-color-tools/fig3.png' /&gt;&lt;/p&gt;

&lt;h5 id='figure_3_example_graphic_based_on_selected_color_palette'&gt;Figure 3: Example graphic based on selected color palette.&lt;/h5&gt;

&lt;p&gt;The &lt;em&gt;ChoosePalette&lt;/em&gt; function may eventually reside in the &lt;strong&gt;colorspace&lt;/strong&gt; package.&lt;/p&gt;</content>
 </entry>
 
 
</feed>