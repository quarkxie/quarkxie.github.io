
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Blog with Knitr and Jekyll</title>
    <meta name="description" content="">
    <meta name="author" content="Jason C Fisher">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">

    <link rel="alternate" type="application/atom+xml" title="R Entries" href="/atom.xml" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="/assets/themes/twitter-2.0/css/bootstrap.min.css" rel="stylesheet">
    <style type="text/css" media="screen">
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the bottom of the topbar */
      }
    </style>
    <link href="/assets/themes/twitter-2.0/css/bootstrap-responsive.min.css" rel="stylesheet">
    <link href="/assets/themes/twitter-2.0/css/style.css?body=1" rel="stylesheet" type="text/css" media="all">
    <link href="/assets/themes/twitter-2.0/css/syntax.css" rel="stylesheet" type="text/css">

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/figs/favicon.ico">
  <!-- Update these with your own images
    <link rel="apple-touch-icon" href="/figs/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/figs/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/figs/apple-touch-icon-114x114.png">
  -->
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/">jfisher-usgs</a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="/categories.html">Categories</a></li>
              <li><a href="/archive.html">Archive</a></li>
              <li><a href="/about.html">About</a></li>
            </ul>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container">

      <div class="content">
        
<div class="page-header">
  <h1>Blog with Knitr and Jekyll</h1>
  <div class="date"><b>Published:</b> 2012-07-03</div>
  
    <ul class="tag_box inline">
      
      


  
     
    	<li><a href="/tags.html#knitr-ref">knitr <span>1</span></a></li>
     
    	<li><a href="/tags.html#jekyll-ref">jekyll <span>2</span></a></li>
     
    	<li><a href="/tags.html#tutorial-ref">tutorial <span>2</span></a></li>
    
  



    </ul>
  
</div>

<div class="row">
  <div class="span12">
    <p>The <a href='http://yihui.name/knitr/'>knitr</a> package provides an easy way to embed <a href='http://www.r-project.org/'>R</a> code in a <a href='http://jekyllbootstrap.com/'>Jekyll-Bootstrap</a> blog post. The only required input is an <strong>R Markdown</strong> source file. The name of the source file used to generate this post is <em>2012-07-03-knitr-jekyll.Rmd</em>, available <a href='https://github.com/jfisher-usgs/jfisher-usgs.github.com/blob/master/Rmd/2012-07-03-knitr-jekyll.Rmd'>here</a>. Steps taken to build this post are as follows:</p>

<h3 id='step_1'>Step 1</h3>

<p>Create a Jekyll-Boostrap blog if you don&#8217;t already have one. A brief tutorial on building this blog is available <a href='/lessons/2012/05/30/jekyll-build-on-windows/'>here</a>.</p>

<h3 id='step_2'>Step 2</h3>

<p>Open the R Console and process the source file:</p>
<div class='highlight'><pre><code class='r'>KnitPost <span class='o'>&lt;-</span> <span class='kr'>function</span><span class='p'>(</span>input<span class='p'>,</span> base.url <span class='o'>=</span> <span class='s'>&quot;/&quot;</span><span class='p'>)</span> <span class='p'>{</span>
    require<span class='p'>(</span>knitr<span class='p'>)</span>
    opts_knit<span class='o'>$</span>set<span class='p'>(</span>base.url <span class='o'>=</span> base.url<span class='p'>)</span>
    fig.path <span class='o'>&lt;-</span> paste0<span class='p'>(</span><span class='s'>&quot;figs/&quot;</span><span class='p'>,</span> sub<span class='p'>(</span><span class='s'>&quot;.Rmd$&quot;</span><span class='p'>,</span> <span class='s'>&quot;&quot;</span><span class='p'>,</span> basename<span class='p'>(</span>input<span class='p'>)),</span> <span class='s'>&quot;/&quot;</span><span class='p'>)</span>
    opts_chunk<span class='o'>$</span>set<span class='p'>(</span>fig.path <span class='o'>=</span> fig.path<span class='p'>)</span>
    opts_chunk<span class='o'>$</span>set<span class='p'>(</span>fig.cap <span class='o'>=</span> <span class='s'>&quot;center&quot;</span><span class='p'>)</span>
    render_jekyll<span class='p'>()</span>
    knit<span class='p'>(</span>input<span class='p'>,</span> envir <span class='o'>=</span> parent.frame<span class='p'>())</span>
<span class='p'>}</span>
KnitPost<span class='p'>(</span><span class='s'>&quot;2012-07-03-knitr-jekyll.Rmd&quot;</span><span class='p'>)</span>
</code></pre>
</div>
<h3 id='step_3'>Step 3</h3>

<p>Move the resulting image folder <em>2012-07-03-knitr-jekyll</em> and <strong>Markdown</strong> file <em>2012-07-03-knitr-jekyll.md</em> to the local <em>jfisher-usgs.github.com</em> <a href='http://git-scm.com/'>git</a> repository. The KnitPost function assumes that the image folder will be placed in a <a href='https://github.com/jfisher-usgs/jfisher-usgs.github.com/tree/master/figs'>figs</a> folder located at the root of the repository.</p>

<h3 id='step_4'>Step 4</h3>

<p>Add the following CSS code to the <em>/assets/themes/twitter-2.0/css/bootstrap.min.css</em> file to center images:</p>

<pre><code>[alt=center] {
  display: block;
  margin: auto;
}</code></pre>

<p>That&#8217;s it.</p>
<hr />
<p>Here are a few examples of embedding R code:</p>
<div class='highlight'><pre><code class='r'>summary<span class='p'>(</span>cars<span class='p'>)</span>
</code></pre>
</div><div class='highlight'><pre><code class='text'>##      speed           dist    
##  Min.   : 4.0   Min.   :  2  
##  1st Qu.:12.0   1st Qu.: 26  
##  Median :15.0   Median : 36  
##  Mean   :15.4   Mean   : 43  
##  3rd Qu.:19.0   3rd Qu.: 56  
##  Max.   :25.0   Max.   :120  
</code></pre>
</div><div class='highlight'><pre><code class='r'>par<span class='p'>(</span>mar <span class='o'>=</span> c<span class='p'>(</span><span class='m'>4</span><span class='p'>,</span> <span class='m'>4</span><span class='p'>,</span> <span class='m'>0.1</span><span class='p'>,</span> <span class='m'>0.1</span><span class='p'>),</span> omi <span class='o'>=</span> c<span class='p'>(</span><span class='m'>0</span><span class='p'>,</span> <span class='m'>0</span><span class='p'>,</span> <span class='m'>0</span><span class='p'>,</span> <span class='m'>0</span><span class='p'>))</span>
plot<span class='p'>(</span>cars<span class='p'>)</span>
</code></pre>
</div>
<p><img alt='center' src='/figs/2012-07-03-knitr-jekyll/fig1.png' /></p>

<h5 id='figure_1_caption'>Figure 1: Caption</h5>
<div class='highlight'><pre><code class='r'>par<span class='p'>(</span>mar <span class='o'>=</span> c<span class='p'>(</span><span class='m'>2.5</span><span class='p'>,</span> <span class='m'>2.5</span><span class='p'>,</span> <span class='m'>0.5</span><span class='p'>,</span> <span class='m'>0.1</span><span class='p'>),</span> omi <span class='o'>=</span> c<span class='p'>(</span><span class='m'>0</span><span class='p'>,</span> <span class='m'>0</span><span class='p'>,</span> <span class='m'>0</span><span class='p'>,</span> <span class='m'>0</span><span class='p'>))</span>
filled.contour<span class='p'>(</span>volcano<span class='p'>)</span>
</code></pre>
</div>
<p><img alt='center' src='/figs/2012-07-03-knitr-jekyll/fig2.png' /></p>

<h5 id='figure_2_caption'>Figure 2: Caption</h5>

<p>And don&#8217;t forget your session information for proper reproducible research.</p>
<div class='highlight'><pre><code class='r'>sessionInfo<span class='p'>()</span>
</code></pre>
</div><div class='highlight'><pre><code class='text'>## R version 2.15.1 (2012-06-22)
## Platform: x86_64-pc-mingw32/x64 (64-bit)
## 
## locale:
## [1] LC_COLLATE=English_United States.1252 
## [2] LC_CTYPE=English_United States.1252   
## [3] LC_MONETARY=English_United States.1252
## [4] LC_NUMERIC=C                          
## [5] LC_TIME=English_United States.1252    
## 
## attached base packages:
## [1] stats     graphics  grDevices utils     datasets  methods   base     
## 
## other attached packages:
## [1] knitr_0.6.3
## 
## loaded via a namespace (and not attached):
## [1] digest_0.5.2   evaluate_0.4.2 formatR_0.5    plyr_1.7.1    
## [5] stringr_0.6    tools_2.15.1  
</code></pre>
</div>
    <hr>
    <div class="pagination pagination-centered">
      <ul>
      
        <li class="prev"><a href="/r/2012/06/25/grid2polygons" title="Grid2Polygons">Prev</a></li>
      
      
        <li class="next disabled"><a>Next</a>
      
      </ul>
    </div>
  </div>
</div>

<ul>
  


  <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_developer = 1;
    var disqus_shortname = 'jfisherusgs'; // required: replace example with your forum shortname
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>




</ul>


      </div>

      <footer>
      </footer>

    </div> <!-- /container -->

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="/assets/themes/twitter-2.0/js/jquery.min.js"><\/script>')</script>
    <script src="/assets/themes/twitter-2.0/js/bootstrap.min.js"></script>
    
  </body>
</html>

